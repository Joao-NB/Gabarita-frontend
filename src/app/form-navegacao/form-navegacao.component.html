<div class="relative w-full flex flex-col items-center">

  <!-- Formulário -->
  <form
    #formQuestoes="ngForm"
    class="bg-gabaritaBlue p-4 md:px-10 flex flex-col md:flex-row items-center justify-center gap-4 md:gap-10 rounded-xl w-full max-w-md md:max-w-3xl"
    *ngIf="!carregando"
  >
    <!-- Select Matéria -->
    <div class="flex items-center gap-4 text-slate-50 w-full md:w-auto
                active:scale-[0.98] hover:scale-[1.01]
                ease-in-out transition-all">
      <select
        class="bg-gabaritaBlue text-slate-50 font-semibold appearance-none
               p-2 rounded-md shadow-sm outline-none
               w-full md:w-[140px]"
        name="materia"
        [(ngModel)]="materia"
        required
      >
        <option
          *ngFor="let opcao of opcoesMateria"
          [value]="opcao.value"
          [disabled]="opcao.value === materia"
        >
          {{ opcao.label }}
        </option>
      </select>
      <span class="ml-2">
        <fa-icon [icon]="faBook"></fa-icon>
      </span>
    </div>

    <!-- Input Assunto -->
    <div class="flex items-center gap-4 text-slate-50 w-full md:w-auto
                active:scale-[0.98] hover:scale-[1.01]
                ease-in-out transition-all">
      <input
        type="text"
        class="bg-gabaritaBlue text-slate-50 font-semibold appearance-none
               p-2 rounded-md shadow-sm outline-none
               w-full md:w-[140px]"
        placeholder="Assunto"
        name="assunto"
        [(ngModel)]="assunto"
        required
      />
      <span class="ml-2">
        <fa-icon [icon]="faBars"></fa-icon>
      </span>
    </div>

    <!-- Botão -->
<button
  class="active:scale-[0.98] hover:scale-[1.01]
         ease-in-out transition-all
         bg-green-500 text-white rounded-2xl text-sm font-black uppercase shadow-[0_5px_0_#15803d] active:shadow-none active:translate-y-1
         px-6 py-2
         text-slate-50 text-base md:text-sm font-semibold
         flex items-center justify-center
         gap-2 md:gap-3
         w-full md:min-w-[193px] md:px-10"
  type="submit"
  (click)="onSubmit()"
>
  GERAR QUIZ
  <span>
    <fa-icon [icon]="faArrowRight" class="text-lg"></fa-icon>
  </span>
</button>

  </form>

  <!-- Mensagem de erro caso matéria ou assunto não selecionados -->
  <div
    *ngIf="erroFormulario"
    class="mt-4 p-3 bg-red-600 bg-opacity-80 text-white rounded-xl shadow-lg font-bold text-center animate-fadeIn w-full max-w-md md:max-w-3xl"
  >
    {{ erroFormulario }}
  </div>

  <!-- Loading -->
  <div
    *ngIf="carregando"
    class="flex flex-col items-center justify-center gap-6 p-6
           bg-gabaritaBlue/80 rounded-xl w-full max-w-md md:max-w-3xl
           shadow-lg animate-fadeIn relative overflow-hidden"
  >
    <!-- Interrogações animadas -->
    <div class="flex gap-6 relative h-20">
      <span class="text-4xl md:text-5xl font-black text-gradient animate-bounceDelay">?</span>
      <span class="text-4xl md:text-5xl font-black text-gradient animate-bounceDelay delay-150">?</span>
      <span class="text-4xl md:text-5xl font-black text-gradient animate-bounceDelay delay-300">?</span>
    </div>

    <!-- Texto de loading -->
    <p class="text-white font-bold text-lg md:text-xl animate-pulse text-center">
    Preparando seu quiz épico...
    </p>

    <!-- Barra de progresso animada -->
    <div class="w-full bg-indigo-800 h-2 rounded-full overflow-hidden">
      <div
        class="h-2 bg-gradient-to-r from-purple-400 via-blue-500 to-blue-900
               animate-[slide_2s_linear_infinite]"
      ></div>
    </div>
  </div>
</div>
